(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs')) :
    typeof define === 'function' && define.amd ? define('yamapng', ['exports', '@angular/core', 'rxjs'], factory) :
    (factory((global.yamapng = {}),global.ng.core,global.rxjs));
}(this, (function (exports,i0,rxjs) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var YamapngService = /** @class */ (function () {
        function YamapngService() {
        }
        YamapngService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] }
        ];
        /** @nocollapse */
        YamapngService.ctorParameters = function () { return []; };
        /** @nocollapse */ YamapngService.ngInjectableDef = i0.defineInjectable({ factory: function YamapngService_Factory() { return new YamapngService(); }, token: YamapngService, providedIn: "root" });
        return YamapngService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var YamapngComponent = /** @class */ (function () {
        function YamapngComponent() {
        }
        /**
         * @return {?}
         */
        YamapngComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        YamapngComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'lib-yamapng',
                        template: "\n    <p>\n      yamapng works!\n    </p>\n  "
                    }] }
        ];
        /** @nocollapse */
        YamapngComponent.ctorParameters = function () { return []; };
        return YamapngComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var YamapngModule = /** @class */ (function () {
        function YamapngModule() {
        }
        YamapngModule.decorators = [
            { type: i0.NgModule, args: [{
                        declarations: [YamapngComponent],
                        imports: [],
                        exports: [YamapngComponent]
                    },] }
        ];
        return YamapngModule;
    }());

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var WindowRef = /** @class */ (function () {
        function WindowRef() {
        }
        /**
         * @return {?}
         */
        WindowRef.prototype.getNativeWindow = /**
         * @return {?}
         */
            function () { return window; };
        return WindowRef;
    }());
    // tslint:disable-next-line:max-classes-per-file
    var  
    // tslint:disable-next-line:max-classes-per-file
    DocumentRef = /** @class */ (function () {
        function DocumentRef() {
        }
        /**
         * @return {?}
         */
        DocumentRef.prototype.getNativeDocument = /**
         * @return {?}
         */
            function () {
                return document;
            };
        return DocumentRef;
    }());
    /** @type {?} */
    var BROWSER_GLOBALS_PROVIDERS = [WindowRef, DocumentRef];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Token for the config of the YaMapsAPILoaderConfigLiteral. Please provide an object of type {\@link
     * YaMapsAPILoaderConfigLiteral}.
     * @type {?}
     */
    var LAZY_MAPS_API_CONFIG = new i0.InjectionToken('angular-ya-maps MAPS_API_CONFIG');
    var YaMapsAPILoader = /** @class */ (function () {
        function YaMapsAPILoader(config, w, d) {
            if (config === void 0) {
                config = null;
            }
            this.config = config;
            this._windowRef = w;
            this._documentRef = d;
        }
        /**
         * @return {?}
         */
        YaMapsAPILoader.prototype.load = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var script = this._documentRef.getNativeDocument().createElement('script');
                script.type = 'text/javascript';
                script.async = false;
                script.defer = true;
                script.id = 'YaScript';
                script.src = "https://api-maps.yandex.ru/2.1/?apikey=" + this.config.apiKey + "&lang=ru_RU";
                // tslint:disable-next-line:ban-types
                this._scriptLoadingPromise = new Promise(function (resolve, reject) {
                    script.onload = function () { resolve(); };
                    script.onerror = function (error) { reject(); };
                });
                this._documentRef.getNativeDocument().body.appendChild(script);
                return this._scriptLoadingPromise;
            };
        YaMapsAPILoader.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        YaMapsAPILoader.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: i0.Optional }, { type: i0.Inject, args: [LAZY_MAPS_API_CONFIG,] }] },
                { type: WindowRef },
                { type: DocumentRef }
            ];
        };
        return YaMapsAPILoader;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var YaMapsAPIWrapper = /** @class */ (function () {
        function YaMapsAPIWrapper(_loader, _zone, d) {
            var _this = this;
            this._loader = _loader;
            this._zone = _zone;
            this._documentRef = d;
            this._map = new Promise(function (resolve) {
                _this._mapResolver = resolve;
            });
        }
        /**
         * @param {?} el
         * @param {?} mapOptions
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.createMap = /**
         * @param {?} el
         * @param {?} mapOptions
         * @return {?}
         */
            function (el, mapOptions) {
                var _this = this;
                /** @type {?} */
                var res = this._loader.load().then(function () {
                    /** @type {?} */
                    var create = function () {
                        return setTimeout(function () {
                            if (ymaps.Map) {
                                /** @type {?} */
                                var map = new ymaps.Map(el, mapOptions);
                                _this._mapResolver(( /** @type {?} */(map)));
                            }
                            else {
                                create();
                            }
                        }, 100);
                    };
                    create();
                }).catch(function (e) { return console.log(e); });
                return res;
            };
        /**
         * @param {?} latitude
         * @param {?} longitude
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.setCenter = /**
         * @param {?} latitude
         * @param {?} longitude
         * @return {?}
         */
            function (latitude, longitude) {
                this._map.then(function (map) {
                    map.setCenter([latitude, longitude]);
                });
            };
        /**
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.getCenter = /**
         * @return {?}
         */
            function () {
                return this._map.then(function (map) {
                    return map.getCenter();
                });
            };
        /**
         * @param {?} points
         * @param {?} options
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.panTo = /**
         * @param {?} points
         * @param {?} options
         * @return {?}
         */
            function (points, options) {
                this._map.then(function (map) {
                    map.panTo(points, options);
                });
            };
        /**
         * @template E
         * @param {?} eventName
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.subscribeToMapEvent = /**
         * @template E
         * @param {?} eventName
         * @return {?}
         */
            function (eventName) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this._map.then(function (m) {
                        m.events.add(eventName, function (arg) { _this._zone.run(function () { return observer.next(arg); }); });
                    });
                });
            };
        /**
         * @param {?} marker
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.createMarker = /**
         * @param {?} marker
         * @return {?}
         */
            function (marker) {
                return this._map.then(function (map) {
                    /** @type {?} */
                    var m = new ymaps.Placemark([marker.latitude, marker.longitude], {
                        balloonContentHeader: marker.balloonContentHeader,
                        balloonContentBody: marker.balloonContentBody,
                        balloonContentFooter: marker.balloonContentFooter,
                        iconContent: marker.iconContent
                    }, {
                        draggable: marker.draggable,
                        preset: marker.preset,
                        iconLayout: marker.iconLayout,
                        iconImageHref: marker.iconImageHref,
                        iconImageSize: marker.iconImageSize,
                        iconImageOffset: marker.iconImageOffset
                    });
                    map.geoObjects.add(m);
                    return m;
                });
            };
        /**
         * @param {?} overlay
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.removeGeo = /**
         * @param {?} overlay
         * @return {?}
         */
            function (overlay) {
                this._map.then(function (map) {
                    map.geoObjects.remove(overlay);
                });
            };
        /**
         * @param {?} claster
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.createClaster = /**
         * @param {?} claster
         * @return {?}
         */
            function (claster) {
                return this._map.then(function (map) {
                    if (claster.markers.length === 0) {
                        return;
                    }
                    /** @type {?} */
                    var myGeoObjects;
                    myGeoObjects = new Array();
                    claster.markers.forEach(function (x) {
                        /** @type {?} */
                        var point = new ymaps.GeoObject({
                            geometry: { type: x.type, coordinates: [x.lat, x.lng] }
                        });
                        myGeoObjects.push(point);
                    });
                    /** @type {?} */
                    var clusterer = new ymaps.Clusterer({});
                    clusterer.add(myGeoObjects);
                    map.geoObjects.add(clusterer);
                    return clusterer;
                });
            };
        /**
         * @param {?} objectManager
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.createObjectManager = /**
         * @param {?} objectManager
         * @return {?}
         */
            function (objectManager) {
                return this._map.then(function (map) {
                    if (objectManager.datasource.length === 0) {
                        return;
                    }
                    /** @type {?} */
                    var nativeObjectManager = new ymaps.ObjectManager({
                        clusterize: objectManager.clusterize,
                        gridSize: objectManager.gridSize
                    });
                    nativeObjectManager.add(objectManager.datasource);
                    nativeObjectManager.objects.options.set('preset', objectManager.objectPreset);
                    nativeObjectManager.clusters.options.set('preset', objectManager.clasterPreset);
                    map.geoObjects.add(nativeObjectManager);
                    return nativeObjectManager;
                });
            };
        /**
         * @param {?} objectManager
         * @param {?} id
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.navigateToGeoObject = /**
         * @param {?} objectManager
         * @param {?} id
         * @return {?}
         */
            function (objectManager, id) {
                /** @type {?} */
                var obj = objectManager.objects.getById(id);
                if (obj) {
                    this.setCenter(obj.geometry.coordinates[0], obj.geometry.coordinates[1]);
                    objectManager.objects.balloon.open(id);
                }
            };
        /**
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.checkYaSciptLoaded = /**
         * @return {?}
         */
            function () {
                return this._documentRef.getNativeDocument().getElementById('YaScript');
            };
        /**
         * @param {?} objectManager
         * @param {?} filter
         * @return {?}
         */
        YaMapsAPIWrapper.prototype.objectManagerSetFilter = /**
         * @param {?} objectManager
         * @param {?} filter
         * @return {?}
         */
            function (objectManager, filter) {
                objectManager.setFilter(filter);
            };
        YaMapsAPIWrapper.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        YaMapsAPIWrapper.ctorParameters = function () {
            return [
                { type: YaMapsAPILoader },
                { type: i0.NgZone },
                { type: DocumentRef }
            ];
        };
        return YaMapsAPIWrapper;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var MarkerManager = /** @class */ (function () {
        function MarkerManager(_mapsWrapper, _zone) {
            this._mapsWrapper = _mapsWrapper;
            this._zone = _zone;
            this._markers = new Map();
        }
        /**
         * @param {?} marker
         * @return {?}
         */
        MarkerManager.prototype.deleteMarker = /**
         * @param {?} marker
         * @return {?}
         */
            function (marker) {
                var _this = this;
                /** @type {?} */
                var m = this._markers.get(marker);
                if (m == null) {
                    return Promise.resolve();
                }
                // tslint:disable-next-line:no-shadowed-variable
                return m.then(function (m) {
                    return _this._zone.run(function () {
                        // tslint:disable-next-line:no-shadowed-variable
                        _this.getNativeMarker(marker).then(function (m) {
                            _this._mapsWrapper.removeGeo(m);
                            _this._markers.delete(marker);
                        });
                    });
                });
            };
        /**
         * @param {?} marker
         * @return {?}
         */
        MarkerManager.prototype.addMarker = /**
         * @param {?} marker
         * @return {?}
         */
            function (marker) {
                /** @type {?} */
                var markerPromise = this._mapsWrapper.createMarker(marker);
                this._markers.set(marker, markerPromise);
            };
        /**
         * @param {?} marker
         * @return {?}
         */
        MarkerManager.prototype.showBalloon = /**
         * @param {?} marker
         * @return {?}
         */
            function (marker) {
                this.getNativeMarker(marker).then(function (m) {
                    m.balloon.open();
                });
            };
        /**
         * @param {?} marker
         * @return {?}
         */
        MarkerManager.prototype.getNativeMarker = /**
         * @param {?} marker
         * @return {?}
         */
            function (marker) {
                return this._markers.get(marker);
            };
        /**
         * @template T
         * @param {?} eventName
         * @param {?} marker
         * @return {?}
         */
        MarkerManager.prototype.createEventObservable = /**
         * @template T
         * @param {?} eventName
         * @param {?} marker
         * @return {?}
         */
            function (eventName, marker) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this._markers.get(marker).then(function (m) {
                        m.events.add(eventName, function (e) { return _this._zone.run(function () { return observer.next(e); }); });
                    });
                });
            };
        MarkerManager.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        MarkerManager.ctorParameters = function () {
            return [
                { type: YaMapsAPIWrapper },
                { type: i0.NgZone }
            ];
        };
        return MarkerManager;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var markerId = 0;
    var YaMarker = /** @class */ (function () {
        function YaMarker(_markerManager) {
            this._markerManager = _markerManager;
            this.draggable = false;
            this.preset = 'islands#blueIcon';
            this.markerClick = new i0.EventEmitter();
            // tslint:disable-next-line:max-line-length
            this.dragEnd = new i0.EventEmitter();
            this._markerAddedToManger = false;
            this._observableSubscriptions = [];
            this._id = (markerId++).toString();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        YaMarker.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (!this._markerAddedToManger) {
                    this._markerManager.addMarker(this);
                    this._markerAddedToManger = true;
                    this._addEventListeners();
                    return;
                }
                if (changes['showInfo']) {
                    this._markerManager.showBalloon(this);
                }
            };
        /**
         * @return {?}
         */
        YaMarker.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._markerManager.deleteMarker(this);
                this._observableSubscriptions.forEach(function (s) { return s.unsubscribe(); });
            };
        /**
         * @private
         * @return {?}
         */
        YaMarker.prototype._addEventListeners = /**
         * @private
         * @return {?}
         */
            function () {
                var _this = this;
                // click event
                /** @type {?} */
                var cs = this._markerManager.createEventObservable('click', this).subscribe(function () {
                    _this._markerManager.showBalloon(_this);
                    _this.markerClick.emit(null);
                });
                this._observableSubscriptions.push(cs);
                // dragend event
                // tslint:disable-next-line:max-line-length
                /** @type {?} */
                var ds = this._markerManager.createEventObservable('dragend', this).subscribe(function (e) {
                    /** @type {?} */
                    var thisPlacemark = e.get('target');
                    /** @type {?} */
                    var coords = thisPlacemark.geometry.getCoordinates();
                    _this._markerManager.getNativeMarker(_this).then(function (m) {
                        // tslint:disable-next-line:max-line-length
                        _this.dragEnd.emit(( /** @type {?} */({ lat: coords[0], lng: coords[1], nativeMarker: m })));
                    });
                });
                this._observableSubscriptions.push(ds);
            };
        YaMarker.decorators = [
            { type: i0.Directive, args: [{
                        // tslint:disable-next-line:directive-selector
                        selector: 'ya-marker',
                        providers: [
                            YaMapsAPIWrapper
                        ]
                    },] }
        ];
        /** @nocollapse */
        YaMarker.ctorParameters = function () {
            return [
                { type: MarkerManager }
            ];
        };
        YaMarker.propDecorators = {
            latitude: [{ type: i0.Input }],
            longitude: [{ type: i0.Input }],
            balloonLayout: [{ type: i0.Input }],
            balloonContentHeader: [{ type: i0.Input }],
            balloonContentBody: [{ type: i0.Input }],
            balloonContentFooter: [{ type: i0.Input }],
            draggable: [{ type: i0.Input }],
            preset: [{ type: i0.Input }],
            iconContent: [{ type: i0.Input }],
            showInfo: [{ type: i0.Input }],
            iconLayout: [{ type: i0.Input }],
            iconImageHref: [{ type: i0.Input }],
            iconImageSize: [{ type: i0.Input }],
            iconImageOffset: [{ type: i0.Input }],
            markerClick: [{ type: i0.Output }],
            dragEnd: [{ type: i0.Output }]
        };
        return YaMarker;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ClasterManager = /** @class */ (function () {
        function ClasterManager(_mapsWrapper, _zone) {
            this._mapsWrapper = _mapsWrapper;
            this._zone = _zone;
            this._clasters = new Map();
        }
        /**
         * @param {?} claster
         * @return {?}
         */
        ClasterManager.prototype.addClaster = /**
         * @param {?} claster
         * @return {?}
         */
            function (claster) {
                /** @type {?} */
                var clasterPromise = this._mapsWrapper.createClaster(claster);
                this._clasters.set(claster, clasterPromise);
            };
        ClasterManager.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ClasterManager.ctorParameters = function () {
            return [
                { type: YaMapsAPIWrapper },
                { type: i0.NgZone }
            ];
        };
        return ClasterManager;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var clasterId = 0;
    var YaClaster = /** @class */ (function () {
        function YaClaster(_clasterManager) {
            this._clasterManager = _clasterManager;
            this._markerAddedToManger = false;
            this._id = (clasterId++).toString();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        YaClaster.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (!this._markerAddedToManger) {
                    this._clasterManager.addClaster(this);
                }
            };
        /**
         * @return {?}
         */
        YaClaster.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () { };
        /**
         * @private
         * @return {?}
         */
        YaClaster.prototype._addEventListeners = /**
         * @private
         * @return {?}
         */
            function () { };
        YaClaster.decorators = [
            { type: i0.Directive, args: [{
                        // tslint:disable-next-line:directive-selector
                        selector: 'ya-claster',
                        providers: [
                            YaMapsAPIWrapper
                        ]
                    },] }
        ];
        /** @nocollapse */
        YaClaster.ctorParameters = function () {
            return [
                { type: ClasterManager }
            ];
        };
        YaClaster.propDecorators = {
            markers: [{ type: i0.Input }]
        };
        return YaClaster;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ObjectManagerManager = /** @class */ (function () {
        function ObjectManagerManager(_mapsWrapper, _zone) {
            this._mapsWrapper = _mapsWrapper;
            this._zone = _zone;
            this._managers = new Map();
        }
        /**
         * @param {?} manager
         * @return {?}
         */
        ObjectManagerManager.prototype.add = /**
         * @param {?} manager
         * @return {?}
         */
            function (manager) {
                /** @type {?} */
                var managerPromise = this._mapsWrapper.createObjectManager(manager);
                this._managers.set(manager, managerPromise);
            };
        /**
         * @param {?} manager
         * @param {?} id
         * @return {?}
         */
        ObjectManagerManager.prototype.navigateToGeoObject = /**
         * @param {?} manager
         * @param {?} id
         * @return {?}
         */
            function (manager, id) {
                var _this = this;
                this.getNativeManager(manager).then(function (p) {
                    _this._mapsWrapper.navigateToGeoObject(p, id);
                });
            };
        /**
         * @param {?} manager
         * @return {?}
         */
        ObjectManagerManager.prototype.getNativeManager = /**
         * @param {?} manager
         * @return {?}
         */
            function (manager) {
                return this._managers.get(manager);
            };
        /**
         * @param {?} manager
         * @param {?} filter
         * @return {?}
         */
        ObjectManagerManager.prototype.setFilter = /**
         * @param {?} manager
         * @param {?} filter
         * @return {?}
         */
            function (manager, filter) {
                var _this = this;
                this.getNativeManager(manager).then(function (p) {
                    _this._mapsWrapper.objectManagerSetFilter(p, filter);
                });
            };
        ObjectManagerManager.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ObjectManagerManager.ctorParameters = function () {
            return [
                { type: YaMapsAPIWrapper },
                { type: i0.NgZone }
            ];
        };
        return ObjectManagerManager;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var markerId$1 = 0;
    var YaObjectManager = /** @class */ (function () {
        function YaObjectManager(_manager) {
            this._manager = _manager;
            this.clusterize = false;
            this.clasterPreset = 'islands#blueIcon';
            this.objectPreset = 'islands#blueClusterIcons';
            this.gridSize = 0;
            this._observableSubscriptions = [];
            this._addedToManger = false;
            this._id = (markerId$1++).toString();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        YaObjectManager.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (!this._addedToManger) {
                    this._manager.add(this);
                    this._addedToManger = true;
                    return;
                }
                if (changes['selectedObjectId']) {
                    this._manager.navigateToGeoObject(this, this.selectedObjectId);
                }
                if (changes['filter']) {
                    this._manager.setFilter(this, this.filter);
                }
            };
        YaObjectManager.decorators = [
            { type: i0.Directive, args: [{
                        // tslint:disable-next-line:directive-selector
                        selector: 'ya-object-manager',
                        providers: [
                            YaMapsAPIWrapper
                        ]
                    },] }
        ];
        /** @nocollapse */
        YaObjectManager.ctorParameters = function () {
            return [
                { type: ObjectManagerManager }
            ];
        };
        YaObjectManager.propDecorators = {
            clusterize: [{ type: i0.Input }],
            datasource: [{ type: i0.Input }],
            clasterPreset: [{ type: i0.Input }],
            objectPreset: [{ type: i0.Input }],
            gridSize: [{ type: i0.Input }],
            selectedObjectId: [{ type: i0.Input }],
            filter: [{ type: i0.Input }]
        };
        return YaObjectManager;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var YaMap = /** @class */ (function () {
        function YaMap(_elem, _mapsWrapper) {
            this._elem = _elem;
            this._mapsWrapper = _mapsWrapper;
            this.longitude = 0;
            this.latitude = 0;
            this.zoom = 8;
            this.mapType = 'yandex#map';
            this.controls = null;
            // tslint:disable-next-line:max-line-length
            this.mapClick = new i0.EventEmitter();
            this.actionTick = new i0.EventEmitter();
            this.mapInit = false;
            this._observableSubscriptions = [];
        }
        /**
         * @return {?}
         */
        YaMap.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                console.log('map iit');
                /** @type {?} */
                var container = this._elem.nativeElement.querySelector('.map-container-inner');
                this._initMapInstance(container);
                this.mapInit = true;
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        YaMap.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.mapInit) {
                    this.updatePosition(changes);
                    this.panTo(changes);
                }
            };
        /**
         * @private
         * @param {?} el
         * @return {?}
         */
        YaMap.prototype._initMapInstance = /**
         * @private
         * @param {?} el
         * @return {?}
         */
            function (el) {
                if (this.controls != null) {
                    this._mapsWrapper.createMap(el, {
                        center: [this.latitude, this.longitude], zoom: this.zoom, type: this.mapType,
                        controls: this.controls
                    });
                }
                else {
                    this._mapsWrapper.createMap(el, {
                        center: [this.latitude, this.longitude], zoom: this.zoom, type: this.mapType
                    });
                }
                this._handleMapMouseEvents();
            };
        /**
         * @private
         * @param {?} changes
         * @return {?}
         */
        YaMap.prototype.updatePosition = /**
         * @private
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes['latitude'] == null && changes['longitude'] == null) {
                    return;
                }
                this._mapsWrapper.setCenter(this.latitude, this.longitude);
            };
        /**
         * @private
         * @param {?} changes
         * @return {?}
         */
        YaMap.prototype.panTo = /**
         * @private
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes['panToObjects'] == null) {
                    return;
                }
                this._mapsWrapper.panTo(this.panToObjects.points, this.panToObjects.params);
            };
        /**
         * @private
         * @return {?}
         */
        YaMap.prototype._handleMapMouseEvents = /**
         * @private
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var clickEvents = [
                    { name: 'click', emitter: this.mapClick }
                ];
                /** @type {?} */
                var events = [
                    { name: 'actiontick', emitter: this.actionTick }
                ];
                clickEvents.forEach(function (e) {
                    /** @type {?} */
                    var s = _this._mapsWrapper.subscribeToMapEvent(e.name).subscribe(function (event) {
                        /** @type {?} */
                        var coords = event.get('coords');
                        /** @type {?} */
                        var value = ( /** @type {?} */({ lat: coords[0], lng: coords[1] }));
                        e.emitter.emit(value);
                    });
                    _this._observableSubscriptions.push(s);
                });
                events.forEach(function (e) {
                    /** @type {?} */
                    var s = _this._mapsWrapper.subscribeToMapEvent(e.name).subscribe(function (event) {
                        _this._mapsWrapper.getCenter().then(function (coords) {
                            _this.latitude = coords[0];
                            _this.longitude = coords[1];
                            /** @type {?} */
                            var value = ( /** @type {?} */({ lat: coords[0], lng: coords[1] }));
                            e.emitter.emit(value);
                        });
                    });
                    _this._observableSubscriptions.push(s);
                });
            };
        YaMap.decorators = [
            { type: i0.Component, args: [{
                        // tslint:disable-next-line:component-selector
                        selector: 'ya-map',
                        providers: [
                            YaMapsAPIWrapper,
                            MarkerManager,
                            ClasterManager,
                            ObjectManagerManager
                        ],
                        template: "\n    <div class=\"map-container-inner\" id=\"map\" >\n      <ng-content></ng-content>\n    </div>\n  "
                    }] }
        ];
        /** @nocollapse */
        YaMap.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: YaMapsAPIWrapper }
            ];
        };
        YaMap.propDecorators = {
            longitude: [{ type: i0.Input }],
            latitude: [{ type: i0.Input }],
            zoom: [{ type: i0.Input }],
            minZoom: [{ type: i0.Input }],
            maxZoom: [{ type: i0.Input }],
            mapType: [{ type: i0.Input }],
            controls: [{ type: i0.Input }],
            panToObjects: [{ type: i0.Input }],
            mapClick: [{ type: i0.Output }],
            actionTick: [{ type: i0.Output }]
        };
        return YaMap;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var yandex;

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * \@internal
     * @return {?}
     */
    function coreDirectives() {
        return [
            YaMap,
            YaMarker,
            YaClaster,
            YaObjectManager
        ];
    }
    /**
     * The angular-ya-maps core module. Contains all Directives/Services/Pipes
     * of the core module. Please use `YaCoreModule.forRoot()` in your app module.
     */
    var YaCoreModule = /** @class */ (function () {
        function YaCoreModule() {
        }
        /**
         * Please use this method when you register the module at the root level.
         */
        /**
         * Please use this method when you register the module at the root level.
         * @param {?} yaMapsAPILoaderConfig
         * @return {?}
         */
        YaCoreModule.forRoot = /**
         * Please use this method when you register the module at the root level.
         * @param {?} yaMapsAPILoaderConfig
         * @return {?}
         */
            function (yaMapsAPILoaderConfig) {
                return {
                    ngModule: YaCoreModule,
                    providers: __spread(BROWSER_GLOBALS_PROVIDERS, [
                        { provide: YaMapsAPILoader, useClass: YaMapsAPILoader },
                        { provide: LAZY_MAPS_API_CONFIG, useValue: yaMapsAPILoaderConfig }
                    ]),
                };
            };
        YaCoreModule.decorators = [
            { type: i0.NgModule, args: [{ declarations: coreDirectives(), exports: coreDirectives() },] }
        ];
        return YaCoreModule;
    }());
    /**
     * @param {?} yaMapsAPILoaderConfig
     * @return {?}
     */
    function YaCoreModuleForRoot(yaMapsAPILoaderConfig) {
        return [
            YaCoreModule.forRoot(yaMapsAPILoaderConfig)
        ];
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    exports.YamapngService = YamapngService;
    exports.YamapngComponent = YamapngComponent;
    exports.YamapngModule = YamapngModule;
    exports.coreDirectives = coreDirectives;
    exports.YaCoreModuleForRoot = YaCoreModuleForRoot;
    exports.YaCoreModule = YaCoreModule;
    exports.yandex = yandex;
    exports.ɵl = YaClaster;
    exports.ɵk = YaMarker;
    exports.ɵm = YaObjectManager;
    exports.ɵa = YaMap;
    exports.ɵi = ClasterManager;
    exports.ɵh = MarkerManager;
    exports.ɵj = ObjectManagerManager;
    exports.ɵc = LAZY_MAPS_API_CONFIG;
    exports.ɵd = YaMapsAPILoader;
    exports.ɵg = BROWSER_GLOBALS_PROVIDERS;
    exports.ɵf = DocumentRef;
    exports.ɵe = WindowRef;
    exports.ɵb = YaMapsAPIWrapper;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieWFtYXBuZy51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL3lhbWFwbmcvbGliL3lhbWFwbmcuc2VydmljZS50cyIsIm5nOi8veWFtYXBuZy9saWIveWFtYXBuZy5jb21wb25lbnQudHMiLCJuZzovL3lhbWFwbmcvbGliL3lhbWFwbmcubW9kdWxlLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm5nOi8veWFtYXBuZy9saWIvdXRpbHMvYnJvd3Nlci1nbG9iYWxzLnRzIiwibmc6Ly95YW1hcG5nL2xpYi9zZXJ2aWNlcy95YS1tYXBzLWxvYWRlci50cyIsIm5nOi8veWFtYXBuZy9saWIveWEtbWFwcy1hcGktd3JhcHBlci50cyIsIm5nOi8veWFtYXBuZy9saWIvc2VydmljZXMvbWFuYWdlcnMvbWFya2VyLW1hbmFnZXIudHMiLCJuZzovL3lhbWFwbmcvbGliL2RpcmVjdGl2ZXMvbWFya2VyLnRzIiwibmc6Ly95YW1hcG5nL2xpYi9zZXJ2aWNlcy9tYW5hZ2Vycy9jbGFzdGVyLW1hbmFnZXIudHMiLCJuZzovL3lhbWFwbmcvbGliL2RpcmVjdGl2ZXMvY2xhc3Rlci50cyIsIm5nOi8veWFtYXBuZy9saWIvc2VydmljZXMvbWFuYWdlcnMvb2JqZWN0TWFuYWdlci1tYW5hZ2VyLnRzIiwibmc6Ly95YW1hcG5nL2xpYi9kaXJlY3RpdmVzL29iamVjdE1hbmFnZXIudHMiLCJuZzovL3lhbWFwbmcvbGliL2RpcmVjdGl2ZXMveW1hcC50cyIsIm5nOi8veWFtYXBuZy9saWIveWEtbWFwcy10eXBlcy50cyIsIm5nOi8veWFtYXBuZy9saWIvY29yZS5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBZYW1hcG5nU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoKSB7IH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xpYi15YW1hcG5nJyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8cD5cbiAgICAgIHlhbWFwbmcgd29ya3MhXG4gICAgPC9wPlxuICBgLFxuICBzdHlsZXM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIFlhbWFwbmdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFlhbWFwbmdDb21wb25lbnQgfSBmcm9tICcuL3lhbWFwbmcuY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbWWFtYXBuZ0NvbXBvbmVudF0sXG4gIGltcG9ydHM6IFtcbiAgXSxcbiAgZXhwb3J0czogW1lhbWFwbmdDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIFlhbWFwbmdNb2R1bGUgeyB9XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBjbGFzcyBXaW5kb3dSZWYge1xuICBwdWJsaWMgZ2V0TmF0aXZlV2luZG93KCk6IGFueSB7IHJldHVybiB3aW5kb3c7IH1cbn1cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1jbGFzc2VzLXBlci1maWxlXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRSZWYge1xuXG4gIHB1YmxpYyBnZXROYXRpdmVEb2N1bWVudCgpOiBhbnkge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBCUk9XU0VSX0dMT0JBTFNfUFJPVklERVJTOiBQcm92aWRlcltdID0gW1dpbmRvd1JlZiwgRG9jdW1lbnRSZWZdO1xuIiwiaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBJbmplY3Rpb25Ub2tlbiwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERvY3VtZW50UmVmLCBXaW5kb3dSZWYgfSBmcm9tICcuLy4uL3V0aWxzL2Jyb3dzZXItZ2xvYmFscyc7XG5cbi8qKlxuICogVG9rZW4gZm9yIHRoZSBjb25maWcgb2YgdGhlIFlhTWFwc0FQSUxvYWRlckNvbmZpZ0xpdGVyYWwuIFBsZWFzZSBwcm92aWRlIGFuIG9iamVjdCBvZiB0eXBlIHtAbGlua1xuICAqIFlhTWFwc0FQSUxvYWRlckNvbmZpZ0xpdGVyYWx9LlxuICAqL1xuIGV4cG9ydCBjb25zdCBMQVpZX01BUFNfQVBJX0NPTkZJRyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxZYU1hcHNBUElMb2FkZXJDb25maWdMaXRlcmFsPignYW5ndWxhci15YS1tYXBzIE1BUFNfQVBJX0NPTkZJRycpO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSB7QGxpbmsgTGF6eU1hcHNBUElMb2FkZXJ9LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFlhTWFwc0FQSUxvYWRlckNvbmZpZ0xpdGVyYWwge1xuICAvKipcbiAgICogQVBJIEtleS5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZztcbn1cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFlhTWFwc0FQSUxvYWRlciB7XG4gICAgcHJpdmF0ZSBfc2NyaXB0TG9hZGluZ1Byb21pc2U6IFByb21pc2U8dm9pZD47XG4gICAgcHJpdmF0ZSBjb25maWc6IFlhTWFwc0FQSUxvYWRlckNvbmZpZ0xpdGVyYWw7XG4gICAgcHJpdmF0ZSBfd2luZG93UmVmOiBXaW5kb3dSZWY7XG4gICAgcHJpdmF0ZSBfZG9jdW1lbnRSZWY6IERvY3VtZW50UmVmO1xuXG4gICAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQEluamVjdChMQVpZX01BUFNfQVBJX0NPTkZJRykgY29uZmlnOiBhbnkgPSBudWxsLCB3OiBXaW5kb3dSZWYsIGQ6IERvY3VtZW50UmVmKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl93aW5kb3dSZWYgPSB3O1xuICAgICAgICB0aGlzLl9kb2N1bWVudFJlZiA9IGQ7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHNjcmlwdCA9IHRoaXMuX2RvY3VtZW50UmVmLmdldE5hdGl2ZURvY3VtZW50KCkuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IGZhbHNlO1xuICAgICAgICBzY3JpcHQuZGVmZXIgPSB0cnVlO1xuICAgICAgICBzY3JpcHQuaWQgPSAnWWFTY3JpcHQnO1xuICAgICAgICBjb25zdCBjYWxsYmFja05hbWUgPSBgYW5ndWxhcjJZQU1hcHNBUElMb2FkZXJgO1xuICAgICAgICBzY3JpcHQuc3JjID0gYGh0dHBzOi8vYXBpLW1hcHMueWFuZGV4LnJ1LzIuMS8/YXBpa2V5PSR7dGhpcy5jb25maWcuYXBpS2V5fSZsYW5nPXJ1X1JVYDtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmJhbi10eXBlc1xuICAgICAgICB0aGlzLl9zY3JpcHRMb2FkaW5nUHJvbWlzZSA9IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlOiBGdW5jdGlvbiwgcmVqZWN0OiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHsgcmVzb2x2ZSgpOyB9O1xuICAgICAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSAoZXJyb3I6IEV2ZW50KSA9PiB7IHJlamVjdCgpOyB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZG9jdW1lbnRSZWYuZ2V0TmF0aXZlRG9jdW1lbnQoKS5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JpcHRMb2FkaW5nUHJvbWlzZTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUsIE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0ICogYXMgbWFwVHlwZXMgZnJvbSAnLi95YS1tYXBzLXR5cGVzJztcbmltcG9ydCB7IFlhTWFwc0FQSUxvYWRlciB9IGZyb20gJy4vc2VydmljZXMveWEtbWFwcy1sb2FkZXInO1xuaW1wb3J0IHsgWWFNYXJrZXIgfSBmcm9tICcuL2RpcmVjdGl2ZXMvbWFya2VyJztcbmltcG9ydCB7IFlhQ2xhc3RlciB9IGZyb20gJy4vZGlyZWN0aXZlcy9jbGFzdGVyJztcbmltcG9ydCB7IFlhT2JqZWN0TWFuYWdlciB9IGZyb20gJy4vZGlyZWN0aXZlcy9vYmplY3RNYW5hZ2VyJztcbmltcG9ydCB7IERvY3VtZW50UmVmLCBXaW5kb3dSZWYgfSBmcm9tICcuL3V0aWxzL2Jyb3dzZXItZ2xvYmFscyc7XG5cbmRlY2xhcmUgdmFyIHltYXBzOiBhbnk7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBZYU1hcHNBUElXcmFwcGVyIHtcbiAgICBwcml2YXRlIF9tYXA6IFByb21pc2U8bWFwVHlwZXMuWWFuZGV4TWFwPjtcbiAgICBwcml2YXRlIF9tYXBSZXNvbHZlcjogKHZhbHVlPzogbWFwVHlwZXMuWWFuZGV4TWFwKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgX2RvY3VtZW50UmVmOiBEb2N1bWVudFJlZjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2xvYWRlcjogWWFNYXBzQVBJTG9hZGVyLCBwcml2YXRlIF96b25lOiBOZ1pvbmUsIGQ6IERvY3VtZW50UmVmKSB7XG4gICAgICAgIHRoaXMuX2RvY3VtZW50UmVmID0gZDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IFByb21pc2U8bWFwVHlwZXMuWWFuZGV4TWFwPigocmVzb2x2ZTogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbWFwUmVzb2x2ZXIgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTWFwKGVsOiBIVE1MRWxlbWVudCwgbWFwT3B0aW9uczogbWFwVHlwZXMuTWFwT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCByZXMgPSB0aGlzLl9sb2FkZXIubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHltYXBzLk1hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSBuZXcgeW1hcHMuTWFwKGVsLCBtYXBPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwUmVzb2x2ZXIobWFwIGFzIG1hcFR5cGVzLllhbmRleE1hcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIGNyZWF0ZSgpO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coZSkpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRDZW50ZXIobGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fbWFwLnRoZW4oKG1hcDogbWFwVHlwZXMuWWFuZGV4TWFwKSA9PiB7XG4gICAgICAgICAgICBtYXAuc2V0Q2VudGVyKFtsYXRpdHVkZSwgbG9uZ2l0dWRlXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDZW50ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAudGhlbigobWFwOiBtYXBUeXBlcy5ZYW5kZXhNYXApID0+IHtcbiAgICAgICAgICAgIHJldHVybiBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYW5Ubyhwb2ludHM6IGFueVtdLCBvcHRpb25zOiBhbnlbXSkge1xuICAgICAgICB0aGlzLl9tYXAudGhlbigobWFwOiBtYXBUeXBlcy5ZYW5kZXhNYXApID0+IHtcbiAgICAgICAgICAgIG1hcC5wYW5Ubyhwb2ludHMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3Vic2NyaWJlVG9NYXBFdmVudDxFPihldmVudE5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8RT4ge1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5jcmVhdGUoKG9ic2VydmVyOiBPYnNlcnZlcjxFPikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnRoZW4oKG06IG1hcFR5cGVzLllhbmRleE1hcCkgPT4ge1xuICAgICAgICAgICAgICAgIG0uZXZlbnRzLmFkZChldmVudE5hbWUsIChhcmc6IEUpID0+IHsgdGhpcy5fem9uZS5ydW4oKCkgPT4gb2JzZXJ2ZXIubmV4dChhcmcpKTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU1hcmtlcihtYXJrZXI6IFlhTWFya2VyKTogUHJvbWlzZTxtYXBUeXBlcy5NYXJrZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IG1hcFR5cGVzLllhbmRleE1hcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbSA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoW21hcmtlci5sYXRpdHVkZSwgbWFya2VyLmxvbmdpdHVkZV0sIHtcbiAgICAgICAgICAgICAgICBiYWxsb29uQ29udGVudEhlYWRlcjogbWFya2VyLmJhbGxvb25Db250ZW50SGVhZGVyLFxuICAgICAgICAgICAgICAgIGJhbGxvb25Db250ZW50Qm9keTogbWFya2VyLmJhbGxvb25Db250ZW50Qm9keSxcbiAgICAgICAgICAgICAgICBiYWxsb29uQ29udGVudEZvb3RlcjogbWFya2VyLmJhbGxvb25Db250ZW50Rm9vdGVyLFxuICAgICAgICAgICAgICAgIGljb25Db250ZW50OiBtYXJrZXIuaWNvbkNvbnRlbnRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IG1hcmtlci5kcmFnZ2FibGUsXG4gICAgICAgICAgICAgICAgICAgIHByZXNldDogbWFya2VyLnByZXNldCxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkxheW91dDogbWFya2VyLmljb25MYXlvdXQsXG4gICAgICAgICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6IG1hcmtlci5pY29uSW1hZ2VIcmVmLFxuICAgICAgICAgICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBtYXJrZXIuaWNvbkltYWdlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBtYXJrZXIuaWNvbkltYWdlT2Zmc2V0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXAuZ2VvT2JqZWN0cy5hZGQobSk7XG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUdlbyhvdmVybGF5OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fbWFwLnRoZW4oKG1hcDogbWFwVHlwZXMuWWFuZGV4TWFwKSA9PiB7XG4gICAgICAgICAgICBtYXAuZ2VvT2JqZWN0cy5yZW1vdmUob3ZlcmxheSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVDbGFzdGVyKGNsYXN0ZXI6IFlhQ2xhc3Rlcik6IFByb21pc2U8bWFwVHlwZXMuQ2xhc3Rlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLnRoZW4oKG1hcDogbWFwVHlwZXMuWWFuZGV4TWFwKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2xhc3Rlci5tYXJrZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG15R2VvT2JqZWN0czogYW55W107XG4gICAgICAgICAgICBteUdlb09iamVjdHMgPSBuZXcgQXJyYXk8YW55PigpO1xuICAgICAgICAgICAgY2xhc3Rlci5tYXJrZXJzLmZvckVhY2goKHg6IG1hcFR5cGVzLk1hcmtlckNsYXN0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IG5ldyB5bWFwcy5HZW9PYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeTogeyB0eXBlOiB4LnR5cGUsIGNvb3JkaW5hdGVzOiBbeC5sYXQsIHgubG5nXSB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbXlHZW9PYmplY3RzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNsdXN0ZXJlciA9IG5ldyB5bWFwcy5DbHVzdGVyZXIoe30pO1xuICAgICAgICAgICAgY2x1c3RlcmVyLmFkZChteUdlb09iamVjdHMpO1xuICAgICAgICAgICAgbWFwLmdlb09iamVjdHMuYWRkKGNsdXN0ZXJlcik7XG5cbiAgICAgICAgICAgIHJldHVybiBjbHVzdGVyZXI7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU9iamVjdE1hbmFnZXIob2JqZWN0TWFuYWdlcjogWWFPYmplY3RNYW5hZ2VyKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IG1hcFR5cGVzLllhbmRleE1hcCkgPT4ge1xuXG4gICAgICAgICAgICBpZiAob2JqZWN0TWFuYWdlci5kYXRhc291cmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmF0aXZlT2JqZWN0TWFuYWdlciA9IG5ldyB5bWFwcy5PYmplY3RNYW5hZ2VyKHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyaXplOiBvYmplY3RNYW5hZ2VyLmNsdXN0ZXJpemUsXG4gICAgICAgICAgICAgICAgZ3JpZFNpemU6IG9iamVjdE1hbmFnZXIuZ3JpZFNpemVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBuYXRpdmVPYmplY3RNYW5hZ2VyLmFkZChvYmplY3RNYW5hZ2VyLmRhdGFzb3VyY2UpO1xuXG4gICAgICAgICAgICBuYXRpdmVPYmplY3RNYW5hZ2VyLm9iamVjdHMub3B0aW9ucy5zZXQoJ3ByZXNldCcsIG9iamVjdE1hbmFnZXIub2JqZWN0UHJlc2V0KTtcbiAgICAgICAgICAgIG5hdGl2ZU9iamVjdE1hbmFnZXIuY2x1c3RlcnMub3B0aW9ucy5zZXQoJ3ByZXNldCcsIG9iamVjdE1hbmFnZXIuY2xhc3RlclByZXNldCk7XG4gICAgICAgICAgICBtYXAuZ2VvT2JqZWN0cy5hZGQobmF0aXZlT2JqZWN0TWFuYWdlcik7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlT2JqZWN0TWFuYWdlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIG5hdmlnYXRlVG9HZW9PYmplY3Qob2JqZWN0TWFuYWdlcjogYW55LCBpZDogYW55KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IG9iamVjdE1hbmFnZXIub2JqZWN0cy5nZXRCeUlkKGlkKTtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy5zZXRDZW50ZXIob2JqLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLCBvYmouZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICAgICAgb2JqZWN0TWFuYWdlci5vYmplY3RzLmJhbGxvb24ub3BlbihpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tZYVNjaXB0TG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9jdW1lbnRSZWYuZ2V0TmF0aXZlRG9jdW1lbnQoKS5nZXRFbGVtZW50QnlJZCgnWWFTY3JpcHQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2JqZWN0TWFuYWdlclNldEZpbHRlcihvYmplY3RNYW5hZ2VyOiBhbnksIGZpbHRlcjogYW55KSB7XG4gICAgICAgIG9iamVjdE1hbmFnZXIuc2V0RmlsdGVyKGZpbHRlcik7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IFlhTWFya2VyIH0gZnJvbSAnLi8uLi8uLi9kaXJlY3RpdmVzL21hcmtlcic7XG5cbmltcG9ydCB7IFlhTWFwc0FQSVdyYXBwZXIgfSBmcm9tICcuLi8uLi95YS1tYXBzLWFwaS13cmFwcGVyJztcbmltcG9ydCB7IE1hcmtlciB9IGZyb20gJy4uLy4uL3lhLW1hcHMtdHlwZXMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTWFya2VyTWFuYWdlciB7XG4gIHByaXZhdGUgX21hcmtlcnM6IE1hcDxZYU1hcmtlciwgUHJvbWlzZTxNYXJrZXI+PiA9XG4gIG5ldyBNYXA8WWFNYXJrZXIsIFByb21pc2U8TWFya2VyPj4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9tYXBzV3JhcHBlcjogWWFNYXBzQVBJV3JhcHBlciwgcHJpdmF0ZSBfem9uZTogTmdab25lKSB7IH1cblxuICBwdWJsaWMgZGVsZXRlTWFya2VyKG1hcmtlcjogWWFNYXJrZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBtID0gdGhpcy5fbWFya2Vycy5nZXQobWFya2VyKTtcbiAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgIHJldHVybiBtLnRoZW4oKG06IE1hcmtlcikgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgIHRoaXMuZ2V0TmF0aXZlTWFya2VyKG1hcmtlcikudGhlbigobTogTWFya2VyKSA9PiB7XG4gICAgICAgICAgdGhpcy5fbWFwc1dyYXBwZXIucmVtb3ZlR2VvKG0pO1xuICAgICAgICAgIHRoaXMuX21hcmtlcnMuZGVsZXRlKG1hcmtlcik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYWRkTWFya2VyKG1hcmtlcjogWWFNYXJrZXIpIHtcbiAgICBjb25zdCBtYXJrZXJQcm9taXNlID0gdGhpcy5fbWFwc1dyYXBwZXIuY3JlYXRlTWFya2VyKG1hcmtlcik7XG4gICAgdGhpcy5fbWFya2Vycy5zZXQobWFya2VyLCBtYXJrZXJQcm9taXNlKTtcbiAgfVxuXG4gIHB1YmxpYyBzaG93QmFsbG9vbihtYXJrZXI6IFlhTWFya2VyKSB7XG4gICAgdGhpcy5nZXROYXRpdmVNYXJrZXIobWFya2VyKS50aGVuKChtOiBNYXJrZXIpID0+IHtcbiAgICAgIG0uYmFsbG9vbi5vcGVuKCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIHB1YmxpYyBnZXROYXRpdmVNYXJrZXIobWFya2VyOiBZYU1hcmtlcik6IFByb21pc2U8TWFya2VyPiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcmtlcnMuZ2V0KG1hcmtlcik7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlRXZlbnRPYnNlcnZhYmxlPFQ+KGV2ZW50TmFtZTogc3RyaW5nLCBtYXJrZXI6IFlhTWFya2VyKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgcmV0dXJuIE9ic2VydmFibGUuY3JlYXRlKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHtcbiAgICAgIHRoaXMuX21hcmtlcnMuZ2V0KG1hcmtlcikudGhlbigobTogTWFya2VyKSA9PiB7XG4gICAgICAgIG0uZXZlbnRzLmFkZChldmVudE5hbWUsIChlOiBUKSA9PiB0aGlzLl96b25lLnJ1bigoKSA9PiBvYnNlcnZlci5uZXh0KGUpKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBTaW1wbGVDaGFuZ2UsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgWWFNYXBzQVBJV3JhcHBlciB9IGZyb20gJy4uL3lhLW1hcHMtYXBpLXdyYXBwZXInO1xuaW1wb3J0ICogYXMgbWFwVHlwZXMgZnJvbSAnLi4veWEtbWFwcy10eXBlcyc7XG5pbXBvcnQgeyBNYXJrZXJNYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvbWFuYWdlcnMvbWFya2VyLW1hbmFnZXInO1xuaW1wb3J0IHsgTWFya2VyIH0gZnJvbSAnLi4veWEtbWFwcy10eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxubGV0IG1hcmtlcklkID0gMDtcblxuQERpcmVjdGl2ZSh7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICd5YS1tYXJrZXInLFxuICBwcm92aWRlcnM6IFtcbiAgICBZYU1hcHNBUElXcmFwcGVyXG4gIF1cbn0pXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG5leHBvcnQgY2xhc3MgWWFNYXJrZXIgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHB1YmxpYyBsYXRpdHVkZTogbnVtYmVyO1xuICBASW5wdXQoKSBwdWJsaWMgbG9uZ2l0dWRlOiBudW1iZXI7XG4gIEBJbnB1dCgpIHB1YmxpYyBiYWxsb29uTGF5b3V0OiBhbnk7XG4gIEBJbnB1dCgpIHB1YmxpYyBiYWxsb29uQ29udGVudEhlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoKSBwdWJsaWMgYmFsbG9vbkNvbnRlbnRCb2R5OiBzdHJpbmc7XG4gIEBJbnB1dCgpIHB1YmxpYyBiYWxsb29uQ29udGVudEZvb3Rlcjogc3RyaW5nO1xuICBASW5wdXQoKSBwdWJsaWMgZHJhZ2dhYmxlID0gZmFsc2U7XG4gIEBJbnB1dCgpIHB1YmxpYyBwcmVzZXQgPSAnaXNsYW5kcyNibHVlSWNvbic7XG4gIEBJbnB1dCgpIHB1YmxpYyBpY29uQ29udGVudDogc3RyaW5nO1xuICBASW5wdXQoKSBwdWJsaWMgc2hvd0luZm86IGJvb2xlYW47XG4gIC8vIGRlZmF1bHQjaW1hZ2VcbiAgQElucHV0KCkgcHVibGljIGljb25MYXlvdXQ6IGFueTtcbiAgQElucHV0KCkgcHVibGljIGljb25JbWFnZUhyZWY6IGFueTtcbiAgLy8gWzMwLCA0Ml1cbiAgQElucHV0KCkgcHVibGljIGljb25JbWFnZVNpemU6IGFueTtcbiAgLy8gWy01LCAtMzhdXG4gIEBJbnB1dCgpIHB1YmxpYyBpY29uSW1hZ2VPZmZzZXQ6IGFueTtcblxuICBAT3V0cHV0KCkgcHVibGljIG1hcmtlckNsaWNrOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgQE91dHB1dCgpIHB1YmxpYyBkcmFnRW5kOiBFdmVudEVtaXR0ZXI8bWFwVHlwZXMuTWFwTW91c2VFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPG1hcFR5cGVzLk1hcE1vdXNlRXZlbnQ+KCk7XG5cbiAgcHJpdmF0ZSBfbWFya2VyQWRkZWRUb01hbmdlciA9IGZhbHNlO1xuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuICBwcml2YXRlIF9vYnNlcnZhYmxlU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9tYXJrZXJNYW5hZ2VyOiBNYXJrZXJNYW5hZ2VyKSB7XG4gICAgdGhpcy5faWQgPSAobWFya2VySWQrKykudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtrZXk6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgaWYgKCF0aGlzLl9tYXJrZXJBZGRlZFRvTWFuZ2VyKSB7XG5cbiAgICAgIHRoaXMuX21hcmtlck1hbmFnZXIuYWRkTWFya2VyKHRoaXMpO1xuICAgICAgdGhpcy5fbWFya2VyQWRkZWRUb01hbmdlciA9IHRydWU7XG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snc2hvd0luZm8nXSkge1xuICAgICAgdGhpcy5fbWFya2VyTWFuYWdlci5zaG93QmFsbG9vbih0aGlzKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5fbWFya2VyTWFuYWdlci5kZWxldGVNYXJrZXIodGhpcyk7XG4gICAgdGhpcy5fb2JzZXJ2YWJsZVN1YnNjcmlwdGlvbnMuZm9yRWFjaCgocykgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgfVxuXG4gIHByaXZhdGUgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vIGNsaWNrIGV2ZW50XG4gICAgY29uc3QgY3MgPSB0aGlzLl9tYXJrZXJNYW5hZ2VyLmNyZWF0ZUV2ZW50T2JzZXJ2YWJsZSgnY2xpY2snLCB0aGlzKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5fbWFya2VyTWFuYWdlci5zaG93QmFsbG9vbih0aGlzKTtcbiAgICAgIHRoaXMubWFya2VyQ2xpY2suZW1pdChudWxsKTtcbiAgICB9KTtcbiAgICB0aGlzLl9vYnNlcnZhYmxlU3Vic2NyaXB0aW9ucy5wdXNoKGNzKTtcbiAgICAvLyBkcmFnZW5kIGV2ZW50XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgIGNvbnN0IGRzID0gdGhpcy5fbWFya2VyTWFuYWdlci5jcmVhdGVFdmVudE9ic2VydmFibGU8bWFwVHlwZXMuTW91c2VFdmVudD4oJ2RyYWdlbmQnLCB0aGlzKS5zdWJzY3JpYmUoKGU6IG1hcFR5cGVzLk1vdXNlRXZlbnQpID0+IHtcblxuICAgICAgY29uc3QgdGhpc1BsYWNlbWFyayA9IGUuZ2V0KCd0YXJnZXQnKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXNQbGFjZW1hcmsuZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIHRoaXMuX21hcmtlck1hbmFnZXIuZ2V0TmF0aXZlTWFya2VyKHRoaXMpLnRoZW4oKG06IE1hcmtlcikgPT4ge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHRoaXMuZHJhZ0VuZC5lbWl0KHsgbGF0OiBjb29yZHNbMF0sIGxuZzogY29vcmRzWzFdLCBuYXRpdmVNYXJrZXI6IG0gfSBhcyBtYXBUeXBlcy5NYXBNb3VzZUV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX29ic2VydmFibGVTdWJzY3JpcHRpb25zLnB1c2goZHMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IFlhQ2xhc3RlciB9IGZyb20gJy4vLi4vLi4vZGlyZWN0aXZlcy9jbGFzdGVyJztcbmltcG9ydCB7IFlhTWFwc0FQSVdyYXBwZXIgfSBmcm9tICcuLi8uLi95YS1tYXBzLWFwaS13cmFwcGVyJztcbmltcG9ydCB7IE1hcmtlckNsYXN0ZXIsIENsYXN0ZXIgfSBmcm9tICcuLi8uLi95YS1tYXBzLXR5cGVzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENsYXN0ZXJNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBfY2xhc3RlcnM6IE1hcDxZYUNsYXN0ZXIsIFByb21pc2U8Q2xhc3Rlcj4+ID1cbiAgbmV3IE1hcDxZYUNsYXN0ZXIsIFByb21pc2U8Q2xhc3Rlcj4+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfbWFwc1dyYXBwZXI6IFlhTWFwc0FQSVdyYXBwZXIsIHByaXZhdGUgX3pvbmU6IE5nWm9uZSkgeyB9XG5cbiAgcHVibGljIGFkZENsYXN0ZXIoY2xhc3RlcjogWWFDbGFzdGVyKSB7XG4gICAgY29uc3QgY2xhc3RlclByb21pc2UgPSB0aGlzLl9tYXBzV3JhcHBlci5jcmVhdGVDbGFzdGVyKGNsYXN0ZXIpO1xuICAgIHRoaXMuX2NsYXN0ZXJzLnNldChjbGFzdGVyLCBjbGFzdGVyUHJvbWlzZSk7XG4gIH1cblxuICAvKiBnZXROYXRpdmVNYXJrZXIobWFya2VyOiBZYU1hcmtlcik6IFByb21pc2U8TWFya2VyPiB7XG4gICAgIHJldHVybiB0aGlzLl9tYXJrZXJzLmdldChtYXJrZXIpO1xuICAgfVxuICAgY3JlYXRlRXZlbnRPYnNlcnZhYmxlPFQ+KGV2ZW50TmFtZTogc3RyaW5nLCBtYXJrZXI6IFlhTWFya2VyKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgIHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZSgob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB7XG4gICAgICAgdGhpcy5fbWFya2Vycy5nZXQobWFya2VyKS50aGVuKChtOiBNYXJrZXIpID0+IHtcbiAgICAgICAgIG0uZXZlbnRzLmFkZChldmVudE5hbWUsIChlOiBUKSA9PiB0aGlzLl96b25lLnJ1bigoKSA9PiBvYnNlcnZlci5uZXh0KGUpKSk7XG4gICAgICAgfSk7XG4gICAgIH0pO1xuICAgfVxuICAgKi9cbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRXZlbnRFbWl0dGVyLFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgU2ltcGxlQ2hhbmdlLFxuICBBZnRlckNvbnRlbnRJbml0LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIFF1ZXJ5TGlzdCxcbiAgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgWWFNYXBzQVBJV3JhcHBlciB9IGZyb20gJy4uL3lhLW1hcHMtYXBpLXdyYXBwZXInO1xuaW1wb3J0ICogYXMgbWFwVHlwZXMgZnJvbSAnLi4veWEtbWFwcy10eXBlcyc7XG5pbXBvcnQgeyBDbGFzdGVyTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL21hbmFnZXJzL2NsYXN0ZXItbWFuYWdlcic7XG5pbXBvcnQgeyBDbGFzdGVyLCBNYXJrZXJDbGFzdGVyIH0gZnJvbSAnLi4veWEtbWFwcy10eXBlcyc7XG5cbmxldCBjbGFzdGVySWQgPSAwO1xuXG5ARGlyZWN0aXZlKHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6ZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgc2VsZWN0b3I6ICd5YS1jbGFzdGVyJyxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgWWFNYXBzQVBJV3JhcHBlclxuICAgIF1cbn0pXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG5leHBvcnQgY2xhc3MgWWFDbGFzdGVyIGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICAgIEBJbnB1dCgpIHB1YmxpYyBtYXJrZXJzOiBhbnlbXTtcblxuICAgIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfbWFya2VyQWRkZWRUb01hbmdlciA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfY2xhc3Rlck1hbmFnZXI6IENsYXN0ZXJNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuX2lkID0gKGNsYXN0ZXJJZCsrKS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtrZXk6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFya2VyQWRkZWRUb01hbmdlcikge1xuICAgICAgICAgICAgdGhpcy5fY2xhc3Rlck1hbmFnZXIuYWRkQ2xhc3Rlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBuZ09uRGVzdHJveSgpIHsgfVxuXG4gICAgcHJpdmF0ZSBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7IH1cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUsIE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgWWFPYmplY3RNYW5hZ2VyIH0gZnJvbSAnLi8uLi8uLi9kaXJlY3RpdmVzL29iamVjdE1hbmFnZXInO1xuaW1wb3J0IHsgWWFNYXBzQVBJV3JhcHBlciB9IGZyb20gJy4uLy4uL3lhLW1hcHMtYXBpLXdyYXBwZXInO1xuaW1wb3J0IHsgT2JqZWN0TWFuYWdlciB9IGZyb20gJy4uLy4uL3lhLW1hcHMtdHlwZXMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT2JqZWN0TWFuYWdlck1hbmFnZXIge1xuICBwcml2YXRlIF9tYW5hZ2VyczogTWFwPFlhT2JqZWN0TWFuYWdlciwgUHJvbWlzZTxPYmplY3RNYW5hZ2VyPj4gPVxuICBuZXcgTWFwPFlhT2JqZWN0TWFuYWdlciwgUHJvbWlzZTxPYmplY3RNYW5hZ2VyPj4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9tYXBzV3JhcHBlcjogWWFNYXBzQVBJV3JhcHBlciwgcHJpdmF0ZSBfem9uZTogTmdab25lKSB7IH1cblxuICBwdWJsaWMgYWRkKG1hbmFnZXI6IFlhT2JqZWN0TWFuYWdlcikge1xuICAgIGNvbnN0IG1hbmFnZXJQcm9taXNlID0gdGhpcy5fbWFwc1dyYXBwZXIuY3JlYXRlT2JqZWN0TWFuYWdlcihtYW5hZ2VyKTtcbiAgICB0aGlzLl9tYW5hZ2Vycy5zZXQobWFuYWdlciwgbWFuYWdlclByb21pc2UpO1xuICB9XG5cbiAgcHVibGljIG5hdmlnYXRlVG9HZW9PYmplY3QobWFuYWdlcjogWWFPYmplY3RNYW5hZ2VyLCBpZDogbnVtYmVyKSB7XG4gICAgdGhpcy5nZXROYXRpdmVNYW5hZ2VyKG1hbmFnZXIpLnRoZW4oKHA6IGFueSkgPT4ge1xuICAgICAgdGhpcy5fbWFwc1dyYXBwZXIubmF2aWdhdGVUb0dlb09iamVjdChwLCBpZCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIHB1YmxpYyBnZXROYXRpdmVNYW5hZ2VyKG1hbmFnZXI6IFlhT2JqZWN0TWFuYWdlcik6IFByb21pc2U8T2JqZWN0TWFuYWdlcj4ge1xuICAgIHJldHVybiB0aGlzLl9tYW5hZ2Vycy5nZXQobWFuYWdlcik7XG4gIH1cblxuICBwdWJsaWMgc2V0RmlsdGVyKG1hbmFnZXI6IFlhT2JqZWN0TWFuYWdlciwgZmlsdGVyOiBhbnkpIHtcbiAgICB0aGlzLmdldE5hdGl2ZU1hbmFnZXIobWFuYWdlcikudGhlbigocDogYW55KSA9PiB7XG4gICAgICB0aGlzLl9tYXBzV3JhcHBlci5vYmplY3RNYW5hZ2VyU2V0RmlsdGVyKHAsIGZpbHRlcik7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgU2ltcGxlQ2hhbmdlLFxuICBBZnRlckNvbnRlbnRJbml0LCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgSW5wdXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgWWFNYXBzQVBJV3JhcHBlciB9IGZyb20gJy4uL3lhLW1hcHMtYXBpLXdyYXBwZXInO1xuaW1wb3J0ICogYXMgbWFwVHlwZXMgZnJvbSAnLi4veWEtbWFwcy10eXBlcyc7XG5pbXBvcnQgeyBPYmplY3RNYW5hZ2VyTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL21hbmFnZXJzL29iamVjdE1hbmFnZXItbWFuYWdlcic7XG5cbmxldCBtYXJrZXJJZCA9IDA7XG5cbkBEaXJlY3RpdmUoe1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6ZGlyZWN0aXZlLXNlbGVjdG9yXG4gIHNlbGVjdG9yOiAneWEtb2JqZWN0LW1hbmFnZXInLFxuICBwcm92aWRlcnM6IFtcbiAgICBZYU1hcHNBUElXcmFwcGVyXG4gIF1cbn0pXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG5leHBvcnQgY2xhc3MgWWFPYmplY3RNYW5hZ2VyIGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgQElucHV0KCkgcHVibGljIGNsdXN0ZXJpemUgPSBmYWxzZTtcbiAgQElucHV0KCkgcHVibGljIGRhdGFzb3VyY2U6IGFueTtcbiAgQElucHV0KCkgcHVibGljIGNsYXN0ZXJQcmVzZXQgPSAnaXNsYW5kcyNibHVlSWNvbic7XG4gIEBJbnB1dCgpIHB1YmxpYyBvYmplY3RQcmVzZXQgPSAnaXNsYW5kcyNibHVlQ2x1c3Rlckljb25zJztcbiAgQElucHV0KCkgcHVibGljIGdyaWRTaXplID0gMDtcbiAgQElucHV0KCkgcHVibGljIHNlbGVjdGVkT2JqZWN0SWQ6IG51bWJlcjtcbiAgQElucHV0KCkgcHVibGljIGZpbHRlcjogYW55O1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgX29ic2VydmFibGVTdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuICBwcml2YXRlIF9hZGRlZFRvTWFuZ2VyID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfbWFuYWdlcjogT2JqZWN0TWFuYWdlck1hbmFnZXIpIHtcbiAgICB0aGlzLl9pZCA9IChtYXJrZXJJZCsrKS50b1N0cmluZygpO1xuICB9XG5cbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHsgW2tleTogc3RyaW5nXTogU2ltcGxlQ2hhbmdlIH0pIHtcbiAgICBpZiAoIXRoaXMuX2FkZGVkVG9NYW5nZXIpIHtcblxuICAgICAgdGhpcy5fbWFuYWdlci5hZGQodGhpcyk7XG4gICAgICB0aGlzLl9hZGRlZFRvTWFuZ2VyID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlc1snc2VsZWN0ZWRPYmplY3RJZCddKSB7XG4gICAgICB0aGlzLl9tYW5hZ2VyLm5hdmlnYXRlVG9HZW9PYmplY3QodGhpcywgdGhpcy5zZWxlY3RlZE9iamVjdElkKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2ZpbHRlciddKSB7XG4gICAgICB0aGlzLl9tYW5hZ2VyLnNldEZpbHRlcih0aGlzLCB0aGlzLmZpbHRlcik7XG4gICAgfVxuXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBTaW1wbGVDaGFuZ2VzLFxuICBJbnB1dCxcbiAgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgWWFNYXBzQVBJV3JhcHBlciB9IGZyb20gJy4uL3lhLW1hcHMtYXBpLXdyYXBwZXInO1xuaW1wb3J0IHsgTWFya2VyTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL21hbmFnZXJzL21hcmtlci1tYW5hZ2VyJztcbmltcG9ydCB7IENsYXN0ZXJNYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvbWFuYWdlcnMvY2xhc3Rlci1tYW5hZ2VyJztcbmltcG9ydCB7IE9iamVjdE1hbmFnZXJNYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvbWFuYWdlcnMvb2JqZWN0TWFuYWdlci1tYW5hZ2VyJztcbmltcG9ydCAqIGFzIG1hcFR5cGVzIGZyb20gJy4uL3lhLW1hcHMtdHlwZXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmNvbXBvbmVudC1zZWxlY3RvclxuICBzZWxlY3RvcjogJ3lhLW1hcCcsXG4gIHByb3ZpZGVyczogW1xuICAgIFlhTWFwc0FQSVdyYXBwZXIsXG4gICAgTWFya2VyTWFuYWdlcixcbiAgICBDbGFzdGVyTWFuYWdlcixcbiAgICBPYmplY3RNYW5hZ2VyTWFuYWdlclxuICBdLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgY2xhc3M9XCJtYXAtY29udGFpbmVyLWlubmVyXCIgaWQ9XCJtYXBcIiA+XG4gICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG4gIGBcbn0pXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuZXhwb3J0IGNsYXNzIFlhTWFwIGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBsb25naXR1ZGUgPSAwO1xuICBASW5wdXQoKSBwdWJsaWMgbGF0aXR1ZGUgPSAwO1xuICBASW5wdXQoKSBwdWJsaWMgem9vbSA9IDg7XG4gIEBJbnB1dCgpIHB1YmxpYyBtaW5ab29tOiBudW1iZXI7XG4gIEBJbnB1dCgpIHB1YmxpYyBtYXhab29tOiBudW1iZXI7XG4gIEBJbnB1dCgpIHB1YmxpYyBtYXBUeXBlOiBhbnkgPSAneWFuZGV4I21hcCc7XG4gIEBJbnB1dCgpIHB1YmxpYyBjb250cm9sczogYW55W10gPSBudWxsO1xuICBASW5wdXQoKSBwdWJsaWMgcGFuVG9PYmplY3RzOiBtYXBUeXBlcy5QYW5Ub09iamVjdHM7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgQE91dHB1dCgpIHB1YmxpYyBtYXBDbGljazogRXZlbnRFbWl0dGVyPG1hcFR5cGVzLk1hcENsaWNrTW91c2VFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPG1hcFR5cGVzLk1hcENsaWNrTW91c2VFdmVudD4oKTtcbiAgQE91dHB1dCgpIHB1YmxpYyBhY3Rpb25UaWNrOiBFdmVudEVtaXR0ZXI8bWFwVHlwZXMuTWFwQ2xpY2tNb3VzZUV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8bWFwVHlwZXMuTWFwQ2xpY2tNb3VzZUV2ZW50PigpO1xuXG4gIHB1YmxpYyBtYXBJbml0ID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBfb2JzZXJ2YWJsZVN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZWxlbTogRWxlbWVudFJlZiwgcHJpdmF0ZSBfbWFwc1dyYXBwZXI6IFlhTWFwc0FQSVdyYXBwZXIpIHsgfVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICBjb25zb2xlLmxvZygnbWFwIGlpdCcpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2VsZW0ubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubWFwLWNvbnRhaW5lci1pbm5lcicpO1xuICAgIHRoaXMuX2luaXRNYXBJbnN0YW5jZShjb250YWluZXIpO1xuICAgIHRoaXMubWFwSW5pdCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgIGlmICh0aGlzLm1hcEluaXQpIHtcbiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oY2hhbmdlcyk7XG4gICAgICB0aGlzLnBhblRvKGNoYW5nZXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2luaXRNYXBJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5jb250cm9scyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9tYXBzV3JhcHBlci5jcmVhdGVNYXAoZWwsIHtcbiAgICAgICAgY2VudGVyOiBbdGhpcy5sYXRpdHVkZSwgdGhpcy5sb25naXR1ZGVdLCB6b29tOiB0aGlzLnpvb20sIHR5cGU6IHRoaXMubWFwVHlwZSxcbiAgICAgICAgY29udHJvbHM6IHRoaXMuY29udHJvbHNcbiAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21hcHNXcmFwcGVyLmNyZWF0ZU1hcChlbCwge1xuICAgICAgICBjZW50ZXI6IFt0aGlzLmxhdGl0dWRlLCB0aGlzLmxvbmdpdHVkZV0sIHpvb206IHRoaXMuem9vbSwgdHlwZTogdGhpcy5tYXBUeXBlXG4gICAgICB9KTtcblxuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZU1hcE1vdXNlRXZlbnRzKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVBvc2l0aW9uKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlc1snbGF0aXR1ZGUnXSA9PSBudWxsICYmIGNoYW5nZXNbJ2xvbmdpdHVkZSddID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWFwc1dyYXBwZXIuc2V0Q2VudGVyKHRoaXMubGF0aXR1ZGUsIHRoaXMubG9uZ2l0dWRlKTtcbiAgfVxuXG4gIHByaXZhdGUgcGFuVG8oY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzWydwYW5Ub09iamVjdHMnXSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21hcHNXcmFwcGVyLnBhblRvKHRoaXMucGFuVG9PYmplY3RzLnBvaW50cywgdGhpcy5wYW5Ub09iamVjdHMucGFyYW1zKTtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZU1hcE1vdXNlRXZlbnRzKCkge1xuICAgIGludGVyZmFjZSBFbWl0dGVyIHtcbiAgICAgIGVtaXQodmFsdWU6IGFueSk6IHZvaWQ7XG4gICAgfVxuICAgIGludGVyZmFjZSBFdmVudCB7IG5hbWU6IHN0cmluZzsgZW1pdHRlcjogRW1pdHRlcjsgfVxuXG4gICAgY29uc3QgY2xpY2tFdmVudHM6IEV2ZW50W10gPSBbXG4gICAgICB7IG5hbWU6ICdjbGljaycsIGVtaXR0ZXI6IHRoaXMubWFwQ2xpY2sgfVxuICAgIF07XG4gICAgY29uc3QgZXZlbnRzOiBFdmVudFtdID0gW1xuICAgICAgeyBuYW1lOiAnYWN0aW9udGljaycsIGVtaXR0ZXI6IHRoaXMuYWN0aW9uVGljayB9XG4gICAgXTtcblxuICAgIGNsaWNrRXZlbnRzLmZvckVhY2goKGU6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBzID0gdGhpcy5fbWFwc1dyYXBwZXIuc3Vic2NyaWJlVG9NYXBFdmVudDx7IGxhdExuZzogYW55IH0+KGUubmFtZSkuc3Vic2NyaWJlKFxuICAgICAgICAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IGV2ZW50LmdldCgnY29vcmRzJyk7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB7IGxhdDogY29vcmRzWzBdLCBsbmc6IGNvb3Jkc1sxXSB9IGFzIG1hcFR5cGVzLk1hcENsaWNrTW91c2VFdmVudDtcbiAgICAgICAgICBlLmVtaXR0ZXIuZW1pdCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5fb2JzZXJ2YWJsZVN1YnNjcmlwdGlvbnMucHVzaChzKTtcbiAgICB9KTtcblxuICAgIGV2ZW50cy5mb3JFYWNoKChlOiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgcyA9IHRoaXMuX21hcHNXcmFwcGVyLnN1YnNjcmliZVRvTWFwRXZlbnQ8eyBsYXRMbmc6IGFueSB9PihlLm5hbWUpLnN1YnNjcmliZShcbiAgICAgICAgKGV2ZW50OiBhbnkpID0+IHtcblxuICAgICAgICAgIHRoaXMuX21hcHNXcmFwcGVyLmdldENlbnRlcigpLnRoZW4oKGNvb3JkczogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxhdGl0dWRlID0gY29vcmRzWzBdO1xuICAgICAgICAgICAgdGhpcy5sb25naXR1ZGUgPSBjb29yZHNbMV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHsgbGF0OiBjb29yZHNbMF0sIGxuZzogY29vcmRzWzFdIH0gYXMgbWFwVHlwZXMuTWFwQ2xpY2tNb3VzZUV2ZW50O1xuICAgICAgICAgICAgZS5lbWl0dGVyLmVtaXQodmFsdWUpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5fb2JzZXJ2YWJsZVN1YnNjcmlwdGlvbnMucHVzaChzKTtcbiAgICB9KTtcblxuICB9XG59XG5cbmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cblxuIiwiZXhwb3J0IGxldCB5YW5kZXg6IGFueTtcblxuZXhwb3J0IGludGVyZmFjZSBZYW5kZXhNYXAgZXh0ZW5kcyBNVkNPYmplY3Qge1xuXG4gIC8vIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0cz86IE1hcE9wdGlvbnMpOiB2b2lkO1xuICBldmVudHM6IGFueTtcbiAgZ2VvT2JqZWN0czogYW55O1xuICBzZXRDZW50ZXIocGFyYW06IGFueVtdKTogdm9pZDtcbiAgZ2V0Q2VudGVyKCk6IGFueTtcbiAgcGFuVG8ocG9pbnRzOiBhbnlbXSwgb3B0aW9uczogYW55W10pOiB2b2lkO1xuICByZW1vdmVPdmVybGF5KG92ZXJsYXk6IGFueSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF0TG5nIHtcbiAgLy8gY29uc3RydWN0b3IobGF0OiBudW1iZXIsIGxuZzogbnVtYmVyKTogdm9pZDtcbiAgbGF0KCk6IG51bWJlcjtcbiAgbG5nKCk6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUGFuVG9PYmplY3RzIHtcbiAgcG9pbnRzOiBhbnlbXTtcbiAgcGFyYW1zOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXJrZXIgZXh0ZW5kcyBNVkNPYmplY3Qge1xuICAvLyBjb25zdHJ1Y3RvcigpOiB2b2lkO1xuICBldmVudHM6IGFueTtcbiAgYmFsbG9vbjogYW55O1xuICBsYXlvdXRCYWxsb29uOiBhbnk7XG4gIGJhbGxvb25Db250ZW50SGVhZGVyOiBzdHJpbmc7XG4gIGJhbGxvb25Db250ZW50Qm9keTogc3RyaW5nO1xuICBiYWxsb29uQ29udGVudEZvb3Rlcjogc3RyaW5nO1xuICBkcmFnZ2FibGU6IGJvb2xlYW47XG4gIGljb25MYXlvdXQ6IGFueTtcbiAgaWNvbkltYWdlSHJlZjogYW55O1xuICBpY29uSW1hZ2VTaXplOiBhbnk7XG4gIGljb25JbWFnZU9mZnNldDogYW55O1xuICBzZXRNYXAobWFwOiBZYW5kZXhNYXApOiB2b2lkO1xuICBzZXRQb3NpdGlvbihsYXRMbmc6IExhdExuZyB8IExhdExuZ0xpdGVyYWwpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsYXN0ZXIge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tbWlzdXNlZC1uZXdcbiAgY29uc3RydWN0b3IoKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXJrZXJDbGFzdGVyIHtcbiAgbGF0OiBudW1iZXI7XG4gIGxuZzogbnVtYmVyO1xuICBiYWxsb29uQ29udGVudEhlYWRlcjogc3RyaW5nO1xuICBiYWxsb29uQ29udGVudEJvZHk6IHN0cmluZztcbiAgYmFsbG9vbkNvbnRlbnRGb290ZXI6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExhdExuZ0xpdGVyYWwge1xuICBsYXQ6IG51bWJlcjtcbiAgbG5nOiBudW1iZXI7XG59XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpiYW4tdHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgTVZDT2JqZWN0IHsgYWRkTGlzdGVuZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogTWFwc0V2ZW50TGlzdGVuZXI7IH1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBzRXZlbnRMaXN0ZW5lciB7IHJlbW92ZSgpOiB2b2lkOyB9XG5leHBvcnQgaW50ZXJmYWNlIE1vdXNlRXZlbnQgeyBsYXRMbmc6IExhdExuZzsgZ2V0OiBhbnk7IH1cbmV4cG9ydCBpbnRlcmZhY2UgTWFwQ2xpY2tNb3VzZUV2ZW50IHsgbGF0OiBudW1iZXI7IGxuZzogbnVtYmVyOyB9XG5leHBvcnQgaW50ZXJmYWNlIE1hcE1vdXNlRXZlbnQgeyBsYXQ6IG51bWJlcjsgbG5nOiBudW1iZXI7IG5hdGl2ZU1hcmtlcjogYW55OyB9XG5leHBvcnQgaW50ZXJmYWNlIE1hcE9wdGlvbnMge1xuICB6b29tPzogbnVtYmVyO1xuICBtaW5ab29tPzogbnVtYmVyO1xuICBtYXhab29tPzogbnVtYmVyO1xuICBjZW50ZXI/OiBhbnk7XG4gIHR5cGU6IGFueTtcbiAgY29udHJvbHM/OiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RNYW5hZ2VyIHtcbiAgY2x1c3Rlcml6ZTogYm9vbGVhbjtcbiAgb2JqZWN0czogYW55W107XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVXaXRoUHJvdmlkZXJzLCBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgWWFNYXJrZXIgfSBmcm9tICcuL2RpcmVjdGl2ZXMvbWFya2VyJztcbmltcG9ydCB7IFlhQ2xhc3RlciB9IGZyb20gJy4vZGlyZWN0aXZlcy9jbGFzdGVyJztcbmltcG9ydCB7IFlhT2JqZWN0TWFuYWdlciB9IGZyb20gJy4vZGlyZWN0aXZlcy9vYmplY3RNYW5hZ2VyJztcbmltcG9ydCB7IFlhTWFwc0FQSUxvYWRlciwgWWFNYXBzQVBJTG9hZGVyQ29uZmlnTGl0ZXJhbCwgTEFaWV9NQVBTX0FQSV9DT05GSUcgfSBmcm9tICcuL3NlcnZpY2VzL3lhLW1hcHMtbG9hZGVyJztcbmltcG9ydCB7IEJST1dTRVJfR0xPQkFMU19QUk9WSURFUlMgfSBmcm9tICcuL3V0aWxzL2Jyb3dzZXItZ2xvYmFscyc7XG5pbXBvcnQgeyBZYU1hcCB9IGZyb20gJy4vZGlyZWN0aXZlcy95bWFwJztcblxuZXhwb3J0ICogZnJvbSAnLi95YS1tYXBzLXR5cGVzJztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcmVEaXJlY3RpdmVzKCkge1xuICByZXR1cm4gW1xuICAgIFlhTWFwLFxuICAgIFlhTWFya2VyLFxuICAgIFlhQ2xhc3RlcixcbiAgICBZYU9iamVjdE1hbmFnZXJcbiAgXTtcbn1cblxuLyoqXG4gKiBUaGUgYW5ndWxhci15YS1tYXBzIGNvcmUgbW9kdWxlLiBDb250YWlucyBhbGwgRGlyZWN0aXZlcy9TZXJ2aWNlcy9QaXBlc1xuICogb2YgdGhlIGNvcmUgbW9kdWxlLiBQbGVhc2UgdXNlIGBZYUNvcmVNb2R1bGUuZm9yUm9vdCgpYCBpbiB5b3VyIGFwcCBtb2R1bGUuXG4gKi9cbkBOZ01vZHVsZSh7IGRlY2xhcmF0aW9uczogY29yZURpcmVjdGl2ZXMoKSwgZXhwb3J0czogY29yZURpcmVjdGl2ZXMoKSB9KVxuZXhwb3J0IGNsYXNzIFlhQ29yZU1vZHVsZSB7XG4gIC8qKlxuICAgKiBQbGVhc2UgdXNlIHRoaXMgbWV0aG9kIHdoZW4geW91IHJlZ2lzdGVyIHRoZSBtb2R1bGUgYXQgdGhlIHJvb3QgbGV2ZWwuXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGZvclJvb3QoeWFNYXBzQVBJTG9hZGVyQ29uZmlnOiBZYU1hcHNBUElMb2FkZXJDb25maWdMaXRlcmFsKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBZYUNvcmVNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgLi4uQlJPV1NFUl9HTE9CQUxTX1BST1ZJREVSUyxcbiAgICAgICAgeyBwcm92aWRlOiBZYU1hcHNBUElMb2FkZXIsIHVzZUNsYXNzOiBZYU1hcHNBUElMb2FkZXIgfSxcbiAgICAgICAgeyBwcm92aWRlOiBMQVpZX01BUFNfQVBJX0NPTkZJRywgdXNlVmFsdWU6IHlhTWFwc0FQSUxvYWRlckNvbmZpZyB9XG4gICAgICBdLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFlhQ29yZU1vZHVsZUZvclJvb3QoeWFNYXBzQVBJTG9hZGVyQ29uZmlnOiBZYU1hcHNBUElMb2FkZXJDb25maWdMaXRlcmFsKSB7XG4gIHJldHVybiBbXG4gICAgWWFDb3JlTW9kdWxlLmZvclJvb3QoeWFNYXBzQVBJTG9hZGVyQ29uZmlnKVxuICBdO1xufVxuIl0sIm5hbWVzIjpbIkluamVjdGFibGUiLCJDb21wb25lbnQiLCJOZ01vZHVsZSIsIkluamVjdGlvblRva2VuIiwiT3B0aW9uYWwiLCJJbmplY3QiLCJPYnNlcnZhYmxlIiwiTmdab25lIiwiRXZlbnRFbWl0dGVyIiwiRGlyZWN0aXZlIiwiSW5wdXQiLCJPdXRwdXQiLCJtYXJrZXJJZCIsIkVsZW1lbnRSZWYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtRQU9FO1NBQWlCOztvQkFMbEJBLGFBQVUsU0FBQzt3QkFDVixVQUFVLEVBQUUsTUFBTTtxQkFDbkI7Ozs7OzZCQUpE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
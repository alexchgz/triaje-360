!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@angular/animations")):"function"==typeof define&&define.amd?define("@ctrl/ngx-headroom",["exports","@angular/common","@angular/core","@angular/animations"],e):e(((t=t||self).ctrl=t.ctrl||{},t.ctrl["ngx-headroom"]={}),t.ng.common,t.ng.core,t.ng.animations)}(this,(function(t,e,n,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}var r=function(){function t(t){this.document=t,this.wrapperClassName="",this.innerClassName="",this.innerStyle={top:"0",left:"0",right:"0",zIndex:"1",position:"relative"},this.wrapperStyle={},this.disable=!1,this.upTolerance=5,this.downTolerance=0,this.pinStart=0,this.calcHeightOnResize=!0,this.duration=200,this.easing="ease-in-out",this.pin=new n.EventEmitter,this.unpin=new n.EventEmitter,this.unfix=new n.EventEmitter,this.wrapperHeight=0,this.currentScrollY=0,this.lastKnownScrollY=0,this.scrolled=!1,this.resizeTicking=!1,this.state="unfixed",this.translateY="0px",this.scrollTicking=!1}var r,s;return t.prototype.scroll=function(){this.handleScroll()},t.prototype.resize=function(){this.handleResize()},t.prototype.ngOnInit=function(){this.innerStyle.transform="translateY("+this.translateY+")",!0===this.disable&&this.handleUnfix()},t.prototype.getParent=function(){return this.parent?this.parent():this.document.documentElement&&this.document.documentElement.scrollTop?this.document.documentElement:this.document.body&&this.document.body.scrollTop?this.document.body:this.document.body&&this.document.body.parentNode.scrollTop?this.document.body.parentNode:this.document},t.prototype.ngAfterContentInit=function(){this.setHeightOffset(),this.wrapperHeight=this.height?this.height:null},t.prototype.setHeightOffset=function(){var t=this;this.height=null,setTimeout((function(){t.height=t.inner.nativeElement.offsetHeight,t.resizeTicking=!1}),0)},t.prototype.getScrollY=function(){return void 0!==this.getParent().pageYOffset?this.getParent().pageYOffset:this.getParent().scrollTop||0},t.prototype.getViewportHeight=function(){return this.getParent().innerHeight||this.document.documentElement.clientHeight||this.document.body.clientHeight},t.prototype.getDocumentHeight=function(){var t=this.document.body,e=this.document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},t.prototype.getElementPhysicalHeight=function(t){return Math.max(t.offsetHeight,t.clientHeight)},t.prototype.getElementHeight=function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},t.prototype.getScrollerPhysicalHeight=function(){var t=this.getParent();return t===this.getParent()||t===this.document.body?this.getViewportHeight():this.getElementPhysicalHeight(t)},t.prototype.getScrollerHeight=function(){var t=this.getParent();return t===this.getParent()||t===this.document.body?this.getDocumentHeight():this.getElementHeight(t)},t.prototype.isOutOfBound=function(t){var e=t<0,n=this.getScrollerPhysicalHeight(),i=this.getScrollerHeight();return e||t+n>i},t.prototype.handleScroll=function(){this.disable||this.scrollTicking||(this.scrollTicking=!0,this.update())},t.prototype.handleResize=function(){!this.disable&&this.calcHeightOnResize&&(this.resizeTicking||(this.resizeTicking=!0,this.setHeightOffset()))},t.prototype.handleUnpin=function(){this.unpin.emit(),this.state="unpinned",this.innerStyle.position=this.disable||"unfixed"===this.state?"relative":"fixed"},t.prototype.handlePin=function(){this.pin.emit(),this.state="pinned",this.innerStyle.position=this.disable||"unfixed"===this.state?"relative":"fixed"},t.prototype.handleUnfix=function(){this.unfix.emit(),this.state="unfixed",this.innerStyle.position=this.disable||"unfixed"===this.state?"relative":"fixed"},t.prototype.update=function(){if(this.currentScrollY=this.getScrollY(),!this.isOutOfBound(this.currentScrollY)){var t=function(t,e,n,i,o,r,s,a){void 0===t&&(t=0),void 0===e&&(e=0);var l=e>=t?"down":"up",c=Math.abs(e-t);return n?{action:"none",scrollDirection:l,distanceScrolled:c}:e<=i&&"unfixed"!==s?{action:"unfix",scrollDirection:l,distanceScrolled:c}:e<=a&&"down"===l&&"unfixed"===s?{action:"none",scrollDirection:l,distanceScrolled:c}:"down"===l&&["pinned","unfixed"].indexOf(s)>=0&&e>a+i&&c>o?{action:"unpin",scrollDirection:l,distanceScrolled:c}:"up"===l&&c>r&&["pinned","unfixed"].indexOf(s)<0?{action:"pin",scrollDirection:l,distanceScrolled:c}:"up"===l&&e<=a&&["pinned","unfixed"].indexOf(s)<0?{action:"pin",scrollDirection:l,distanceScrolled:c}:{action:"none",scrollDirection:l,distanceScrolled:c}}(this.lastKnownScrollY,this.currentScrollY,this.disable,this.pinStart,this.downTolerance,this.upTolerance,this.state,this.height).action;"pin"===t?this.handlePin():"unpin"===t?this.handleUnpin():"unfix"===t&&this.handleUnfix()}this.lastKnownScrollY=this.currentScrollY,this.scrollTicking=!1},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[e.DOCUMENT]}]}]},o([n.Input()],t.prototype,"wrapperClassName",void 0),o([n.Input()],t.prototype,"innerClassName",void 0),o([n.Input()],t.prototype,"innerStyle",void 0),o([n.Input()],t.prototype,"wrapperStyle",void 0),o([n.Input()],t.prototype,"disable",void 0),o([n.Input()],t.prototype,"upTolerance",void 0),o([n.Input()],t.prototype,"downTolerance",void 0),o([n.Input()],t.prototype,"pinStart",void 0),o([n.Input()],t.prototype,"calcHeightOnResize",void 0),o([n.Input()],t.prototype,"duration",void 0),o([n.Input()],t.prototype,"easing",void 0),o([n.Output()],t.prototype,"pin",void 0),o([n.Output()],t.prototype,"unpin",void 0),o([n.Output()],t.prototype,"unfix",void 0),o([n.ViewChild("ref",{static:!0})],t.prototype,"inner",void 0),o([n.Input()],t.prototype,"parent",void 0),o([n.Input(),n.HostListener("window:scroll")],t.prototype,"scroll",null),o([n.Input(),n.HostListener("window:resize")],t.prototype,"resize",null),t=o([n.Component({selector:"ngx-headroom",template:'\n  <div [ngStyle]="wrapperStyle" class="headroom-wrapper {{ wrapperClassName }}"\n    [style.height.px]="wrapperHeight">\n    <div #ref\n      [@headroom]="{\n        value: state,\n        params: {\n          duration: duration,\n          easing: easing\n        }\n      }"\n      [ngStyle]="innerStyle"\n      [class]="innerClassName"\n      [class.headroom]="true"\n      [class.headroom--unfixed]="state === \'unfixed\'"\n      [class.headroom--unpinned]="state === \'unpinned\'"\n      [class.headroom--pinned]="state === \'pinned\'"\n      [class.headroom--unfixed]="state === \'unfixed\'">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  ',animations:[i.trigger("headroom",[i.state("unfixed",i.style({transform:"translateY(0)"})),i.state("unpinned",i.style({transform:"translateY(-100%)"})),i.state("pinned",i.style({transform:"translateY(0px)"})),i.transition("unpinned <=> pinned",i.animate("{{ duration }}ms {{ easing }}"))])],preserveWhitespaces:!1,changeDetection:n.ChangeDetectionStrategy.OnPush}),(r=0,s=n.Inject(e.DOCUMENT),function(t,e){s(t,e,r)})],t)}(),s=function(){function t(){}return t=o([n.NgModule({imports:[e.CommonModule],exports:[r],declarations:[r]})],t)}();t.HeadroomComponent=r,t.HeadroomModule=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ctrl-ngx-headroom.umd.min.js.map